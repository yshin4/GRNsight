### 1.0 Requirements

The system allows users to upload an Excel spreadsheet containing gene regulatory information generated by the GRNmap program, which is offered as a download by the web client. The system then parses this spreadsheet and uses the relevant data to create a visual representation of the numerical network data in the form of a user-modifiable directed graph.

### 1.1 Server Subsystem
      1.1.1. The server subsystem shall receive xlsx files from the web client.
      1.1.2. The server subsystem shall parse the xlsx file into a JSON object.
      1.1.3. The server subsystem shall validate the JSON object.
      1.1.4. The server subsystem shall send an error to the web client when validation fails.
      1.1.5. The server subsystem shall POST the JSON object to the web client when validation succeeds.
             The server subsystem should receive JSON objects from the web client.
             The server subsystem should convert the JSON object into an xslx document.
             The server subsystem should POST the xlsx document to the web client.
             The server subsystem will use Nodejs as a server platform.

### 1.2 Web Client Subsystem
      1.2.1. The web client subsystem shall consist of three web pages
             The web client will use Bootstrap.
      1.2.2. The first page shall be an instructional page
        1.2.2.1. The page shall display instructions for uploading spreadsheets
        1.2.2.2. The page shall display instructions regarding GRNmap
          1.2.2.2.1. The page shall display instructions regarding how to download GRNmap
          1.2.2.2.2. The page shall display instructions for running GRNmap
        1.2.2.3. The page shall display instructions for modifying a generated graph
      1.2.3. The second page shall be the upload page
        1.2.3.1. The upload page shall accept an xlsx file.
          1.2.3.1.1. The upload page shall allow the user to browse for a file.
        1.2.3.4. The upload page shall pass the input file to the server.
      1.2.4. The Third page shall be the visualization as specified in Section 1.3 "Visualizer Subsystem".
        1.2.4.1. The visualization page shall GET the parsed file from the server.
        1.2.4.2. The visualization page shall run the visualizer on the parsed data.
        1.2.4.3. The visualization page shall display the visualization.
                 The visualization page should allow users to manipulate the visualization.
                 The visualization page should allow users to click and drag nodes.
                 The visualization page should allow users to double click to create new nodes.
                 The visualization page should allow users to double click and drag between nodes to create
                   new edges.
                 The visualization page should allow users to click the endpoints of an edge to drag that
                   endpoint to another node.
                 The visualization page should allow users to click on an edge once to select it.
                 The visualization page should allow users to press the '+' key to increase the magnitude of
                   a selected edge.
                 The visualization page should allow users to press the '-' key to decrease the magnitude of
                   a selected edge.
                 The visualization page should allow users to press the 'r' key to reverse the direction of
                   a selected edge.
                 The visualization page should allow users to press the 'SHIFT' key to toggle the selected
                   edge between 'expression' and 'regulation.'
                 The visualization page should allow users to submit the changes.
                 The visualization page should convert the changed graph into a JSON object.
                 The visualization page should POST the JSON to the server.
                 The visualization page should GET an xlsx document from the server.
                 The visualization page should prompt user to download the xlsx document.

### 1.3 Visualizer Subsystem
      1.3.1. The visualizer subsystem shall run on the web client application.
      1.3.2. The visualizer subsystem shall create a force-directed graph.
        1.3.2.1. The visualizer subsystem shall read data from a JSON object provided by the web client.
        1.3.2.2. The visualizer subsystem shall create nodes to represent genes.
                 The visualizer subsystem will use D3.
          1.3.2.2.1. The visualizer subsystem shall label each node with the gene's scientific name.
        1.3.2.3. The visualizer subsystem shall create lines between nodes to represent a gene regulating another gene.
        1.3.2.4. The visualizer subsystem shall color the lines to represent positive and negative influence.
          1.3.2.4.1. Red lines shall signify a negative influence.
          1.3.2.4.2. Blue lines shall signify a positive influence.
        1.3.2.5. The visualizer subsystem shall use line thickness to denote magnitude of influence.
          1.3.2.5.1. Greater thickness shall denote stronger influence.
          1.3.2.5.2. Lesser thickness shall denote weaker influence.
        
    

